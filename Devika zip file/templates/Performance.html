<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Performance Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Reset */
body, ul {
  margin: 0;
  padding: 0;
}

/* Navbar */
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 40px;
  background: linear-gradient(135deg, #007bff, #0056b3);
  color: white;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

.navbar .logo {
  font-size: 22px;
  font-weight: bold;
}

.navbar .nav-links {
  list-style: none;
  display: flex;
  gap: 20px;
}

.navbar .nav-links li a {
  text-decoration: none;
  color: white;
  font-weight: 500;
  transition: color 0.3s ease, transform 0.2s ease;
}

.navbar .nav-links li a:hover {
  color: #ffd700;
  transform: translateY(-2px);
}

/* Body */
body {
  background: linear-gradient(135deg, #e0eafc, #cfdef3);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #333;
}

/* Container */
.container {
  margin-top: 50px;
  background: #fff;
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.1);
  animation: fadeIn 0.8s ease-in-out;
}

/* Heading */
h2 {
  text-align: center;
  margin-bottom: 25px;
  font-weight: 600;
  color: #007bff;
}

/* Table */
table {
  background: #fff;
  border-radius: 10px;
  overflow: hidden;
}

thead th {
  background: linear-gradient(135deg, #007bff, #0056b3);
  color: white;
  font-weight: 500;
  text-align: center;
}

tbody tr {
  transition: background 0.2s ease;
}

tbody tr:hover {
  background: #f1f7ff;
}

/* Progress bars */
.progress {
  height: 22px;
  border-radius: 12px;
  background: #e9ecef;
}

.progress-bar {
  font-size: 12px;
  font-weight: bold;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  transition: width 0.6s ease;
}

.progress-high {
  background: linear-gradient(90deg, #28a745, #00c853); /* green */
}

.progress-medium {
  background: linear-gradient(90deg, #ff9800, #ffb74d); /* orange */
}

.progress-low {
  background: linear-gradient(90deg, #dc3545, #f44336); /* red */
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}

.energy-note {
  border: 2px solid #4CAF50;   /* Green border */
  background-color: #f9fff9;   /* Light green background */
  padding: 15px 20px;
  border-radius: 10px;
  font-size: 14px;
  color: #333;
  box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
  max-width: 500px;
  margin: 20px 0;
}
.energy-note h4 {
  margin-top: 0;
  color: #2e7d32;
}
.energy-note code {
  background-color: #e0f2f1;
  padding: 2px 4px;
  border-radius: 4px;
  font-size: 13px;
}
.energy-note ul {
  padding-left: 20px;
}

  </style>
</head>
<body>
  <nav class="navbar">
    <div class="logo">⚽ GamePlay</div>
    <ul class="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/teams">Teams</a></li>
      <li><a href="/about">About Us</a></li>
      <li><a href="/register">Registration</a></li>
      <li><a href="/login">Admin</a></li>
      <li><a href="/Addplayer">Addplayer</a></li>
       <li><a href="/Performance">Performance</a></li>
      <li><a href="/contact">Contact</a></li>
    </ul>
  </nav>
  <div class="container">
    <h2>⚡ Players Performance</h2>
    <div class="table-responsive">
      <table class="table table-bordered table-striped align-middle text-center">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Team</th>
            <th>Position</th>
            <th>Matches</th>
            <th>Goals</th>
            <th>Assists</th>
            <th>Energy</th>
          </tr>
        </thead>
        <tbody>
          {% for p in players %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ p.name }}</td>
            <td>{{ p.team }}</td>
            <td>{{ p.position }}</td>
            <td>{{ p.matches }}</td>
            <td>{{ p.goals }}</td>
            <td>{{ p.assists }}</td>
            <td>
              <div class="progress">
                <div class="progress-bar 
     {% if p.energy >= 70 %}progress-high{% elif p.energy >= 40 %}progress-medium{% else %}progress-low{% endif %}"
     role="progressbar"
     style="width: {{ p.energy|default(0)|int }}%">
  {{ p.energy|default(0)|int }}%
</div>


              </div>
            </td>
          </tr>
          {% else %}
          <tr><td colspan="8" class="text-center text-muted">No players added yet.</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
<div class="energy-note">
  <h4>Note on Energy Calculation</h4>
  <p>Each player starts with <b>100%</b> energy.</p>
  <p><b>Formula:</b> <code>Energy = 100 - (Matches × 2) + (Goals × 1) + (Assists × 0.5)</code></p>
  
  <ul>
    <li>Matches reduce energy due to fatigue (−2% per match).</li>
    <li>Goals boost energy from performance (+1% per goal).</li>
    <li>Assists give a smaller boost for teamwork (+0.5% per assist).</li>
  </ul>
  
  <p>The final energy is always kept between <b>0%</b> and <b>100%</b>.</p>

  <p><u>Example:</u><br>
  Matches = 10, Goals = 5, Assists = 4 →  
  Energy = 100 − (10×2) + (5×1) + (4×0.5) = <b>87%</b>.</p>
</div>
</body>
</html>
